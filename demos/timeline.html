<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8" />
		<title>HTML5 Video Player</title>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../source/jquery.media.js" type="text/javascript" charset="utf-8"></script>
		<script src="../source/jquery.media.timeline.js" type="text/javascript" charset="utf-8"></script>

		<script type="text/javascript">
			var video;
			var timeline1;
			var timeline2;

			$(document).ready(function () {
				video = $.media('video');

				timeline2 = new $media.timeline();

				timeline2.addPoint(5, function () {
					console.log('timeline2: estamos no segundo 5');
				}).addPoint(4, function () {
					console.log('timeline2: estamos no segundo 4');
				}).enable();

				video.play();

				timeline1 = video.getTimeline('timeline1', true);

				timeline1.addPoint([
					{
						time: 2,
						fn: function () {
							if (this.count > 1) {
								return;
							}

							console.log('estamos no segundo 2');

							video.setTimeline('segundo-video', timeline2);
						}
					},{
						time: [3, '00:04'],
						fn: function () {
							this.disable();
							console.log('estamos no segundo 3 a 4');
						}
					},{
						time: [5, 6],
						fn: function () {
							console.log('estamos no segundo 5 a 6');
						},
						fn_out: function () {
							console.log('xa non estamos entre o 5 e 6');
						}
					}
				]).enable();
			});
		</script>
	</head>

	<body>
		<video width="500" src="http://people.opera.com/brucel/demo/video/leverage-a-synergy.ogv" controls>
		</video>
	</body>
</html>